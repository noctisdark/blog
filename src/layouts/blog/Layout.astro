---
import "@styles/prism.scss";

import BlogHeader from "./Header.astro";
import Footer from "@layouts/Footer.astro";
import Layout from "@layouts/Layout.astro";
import Metadata from "@components/ui/blog/Metadata.astro";
import FloatingNavigation from "@components/ui/blog/FloatingNavigation.astro";

const {
  title,
  slug,
  description,
  tag = "anonymous",
  timestamp,
  duration,
  image,
  author,
} = Astro.props.frontmatter ? Astro.props.frontmatter : Astro.props;
---

<Layout title={title} description={description}>
  <BlogHeader>
    <ul slot="breadcrumbs-items">
      <li><a href="/">/</a></li>
      <li>{tag}</li>
      <li><a href={`/blog/${slug}`}>{title}</a></li>
    </ul>
  </BlogHeader>
  <main class="max-w-screen-lg w-full px-4 py-8 prose">
    
    <div class="text-center">
      <code class="text-lg bg-transparent text-info glow m-4">/* {tag} */</code>
    </div>

    <article>
      <h1 class="text-center">{title}</h1>
      <Metadata timestamp={timestamp} duration={duration} tag={tag} />
      <slot />
      
      <FloatingNavigation>
        <ol>
          <li>Introduction To Sericata</li>
          <li>
            Pr√©paration du TP
            <ol>
              <li>Hello</li>
            </ol>  
          </li>
        </ol>
      </FloatingNavigation>
      
    </article>
  </main>
  <Footer style="border-top: 1px solid currentColor" />
</Layout>

<style>

.glow {
  text-shadow: 0 0 8px;
}

</style>

<script>
  import setupCodeTabs from "@scripts/codetabs";

  setupCodeTabs();
</script>
