---
import BlogHeader from "./Header.astro";
import Footer from "@layouts/Footer.astro";
import Layout from "@layouts/Layout.astro";
import Metadata from "@components/ui/blog/Metadata.astro";

const {
  title,
  slug,
  description,
  tag = "anonymous",
  timestamp,
  duration,
  image,
  author,
} = Astro.props.frontmatter ? Astro.props.frontmatter : Astro.props;
---

<Layout title={title} description={description}>
  <BlogHeader>
    <ul slot="breadcrumbs-items">
      <li><a href="/">/</a></li>
      <li>{tag}</li>
      <li><a href={`/blog/${slug}`}>{title}</a></li>
    </ul>
  </BlogHeader>
  <main class="max-w-screen-lg w-full px-4 py-8 prose">
    
    <div class="text-center">
      <code class="text-lg bg-transparent text-info glow m-4">/* {tag} */</code>
    </div>

    <article>
      <h1 class="text-center">{title}</h1>
      <Metadata timestamp={timestamp} duration={duration} tag={tag} />
      <slot />
    </article>
  </main>
  <Footer style="border-top: 1px solid currentColor" />
</Layout>

<style lang="scss">
  @import "/src/styles/prism.scss";
</style>

<script>
  import setupCodeTabs from "@scripts/codetabs";

  setupCodeTabs();
</script>

<style lang="scss">
  .glow {
    text-shadow: 0 0 10px;
  }
</style>
