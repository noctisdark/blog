---
import Layout from "@layouts/Layout.astro";
import BlogHeader from "@layouts/blog/Header.astro";
import BlogCard from "@components/BlogCard.astro";

const posts = await Astro.glob("./blog/**/*.mdx");
const sortedPosts = posts
  .map((post) => post.frontmatter)
  .sort((a, b) => b.timestamp - a.timestamp);
---

<Layout title="Blog" description="Blog home page">
  <BlogHeader>
    <ul slot="breadcrumbs-items">
      <li>
        <a href="/">/</a>
      </li>
      <li>
        <a href="/blog">blog</a>
      </li>
    </ul>
  </BlogHeader>
  <main
    class="max-w-screen-xl w-full px-4 py-8 flex flex-wrap gap-8 justify-center"
  >
    {sortedPosts.map((post) => <BlogCard post={post} />)}
  </main>
</Layout>
